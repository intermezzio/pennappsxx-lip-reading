<html>
<head>
<title>Lip Reading</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <link rel="shortcut icon" type="image/png" href="{{ url_for('static', filename='favicon.png') }}">
  <!-- Materialize CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!-- Regular CSS -->
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='flask.css') }}">
</head>
<body>

<div id="container">
  <div class="navbar-fixed">
    <nav>
      <div class="nav-wrapper orange lighten-1">
        <a href="#" class="brand-logo"><img id="logo" class="left" src="{{ url_for('static', filename='favicon.png') }}">  Speak Into Space</a>
        <ul id="nav-mobile" class="right hide-on-med-and-down">
          <li><a href="#">Film</a></li>
          <li><a href="#transcript">Transcript</a></li>
          <li><a href="#instructions">Instructions</a></li>
          <li><a href="#about">About</a></li>
        </ul>
      </div>
    </nav>
  </div>
  <div class="row">
    <button hidden type="submit" id = "go"></button>
    <div id="video-buttons">
      <a class="waves-effect waves-light btn" id='request'>Authorize Media<i class="material-icons right">camera_alt</i></a>
      <a class="waves-effect waves-light btn disabled" id='start' onclick='startRecording()'>Start Recording<i class="material-icons right">videocam</i></a>
      <a class="waves-effect waves-light btn disabled" id='stop' onclick='stopRecording()' hidden>Stop Recording<i class="material-icons right">videocam_off</i></a>
    </div>
    <!--<button id='start' class='btn' onclick = "startRecording()">
      Start Recording <i class="material-icons right">videocam</i>
    </button>
    <button id='stop' class='btn' onclick = "stopRecording()" hidden>-->
      <!--Stop Recording <i class="material-icons right">videocam_off</i> -->
    <div id="video-wrap">
      <div id="box"></div>
      <div id="target">+</div>
      <video id='video' height=480 width=640 background-color=black autoplay></video>
    </div>
    <br id="transcript" /><br />
    <div id='transcript-card' class="card blue-grey">
      <div class="card-content white-text">
        <span class="card-title">Transcript</span>
        <br /><textarea id='transcript-txt' class="white-text" spellcheck="false" contenteditable="true"></textarea>
        <br>
        <br>
        <a class="waves-effect waves-light btn" onclick="textToSpeech(document.getElementById('transcript-txt').value);">
          Read Transcript
        </a>
        <a class="waves-effect waves-light btn" onclick="">Read In Your Voice</a>
        <input type="text" id="user" placeholder="Your Name">
      </div>
    </div>
    <br />
    <div class="center">
      <a class="waves-effect waves-light btn disabled" id='startaud' onclick='startAudio()'>Start Audio<i class="material-icons right">mic</i></a>
      <a class="waves-effect waves-light btn disabled" id='stopaud' onclick='stopAudio()' hidden>Stop Audio<i class="material-icons right">mic_off</i></a>
      <input type="file" hidden id="toFlask">
    </div>

    <br id="instructions" /><br />
    <div class="card orange lighten-1">
      <div class="card-content white-text">
        <h4>Instructions</h4>
        <h5>Mouth Reading</h5>
        <p>The mouth reading process films your mouth while you speak, and that speech is transcribed into text. To start the video, you first need to authorize use of your webcam. All data on our servers is anonymous, and video data is irretrievable after you finish using it. Click the "Authorize Media" button to enable it.</p>
        <br />
        <p>When you are ready to record, press the "Start Recording" button. Then, press the "Stop Recording" button when you're done. After the server takes some time to load, you will see a transcription of what you mouthed.</p>
        <br />
        <h5>Voice Generating</h5>
        <p>This service also uses machine learning to learn your voice. Press the "Start Audio" button to start recording your voice. After you speak about 20 words, press "Stop Audio". Now, type whatever you want in the Transcript section and press "Read in Your Voice" to hear the words in your voice.</p>
      </div>
    </div>

    <br id="about" /><br />    
    <div class="card teal">
      <div class="card-content white-text">
        <h4>About</h4>
        <br /><span id="about-text" class="white-text">
          <p>Speak Into Space was born on September 7, 2019 at the 20th Pennapps hackathon. This project was designed to extend our abilities to communicate simply through mouthing words. The first part of this project lets you generate statements by mouthing words. After this, the second part of the project takes your inputted text and generates audio for the text in your own voice.</p>
          <br />
          <h5>The Developers</h5>
          <p>This project was developed by four high school and college students.
            <table>
              <tr><td>Neil Deshmukh</td><td><a href="https://neildeshmukh.com">https://neildeshmukh.com</a></td></tr>
              <tr><td>Andrew Mascillaro</td><td><a href="https://intermezzio.github.io">https://intermezzio.github.io</a></td></tr>
              <tr><td>William Qin</td><td><a href="https://github.com/MathTauAthogen">https://github.com/MathTauAthogen</a></td></tr>
              <tr><td>Eric Zheng</td><td><a href="https://ericzheng.org">https://ericzheng.org</a></td></tr>
              
            </table>
          <br />
          <p>Credit to <a href="https://thenounproject">The Noun Project</a> for icons used in the logo.</p>
          </span>
      </div>
    </div>
  </div>
  <footer class="page-footer orange lighten-1">
    <div class="footer-copyright">
      <div class="container">
      Â© 2019 Speak Into Space
      <a class="grey-text text-lighten-4 right" href="#">Back to Top</a>
      </div>
    </div>
  </footer>
</div>
<!-- Materialize JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script type="text/javascript" src="{{ url_for('static', filename='flask.js') }}"></script>
</body>
</html>
